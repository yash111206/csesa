<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - Manage Events | CSESA</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<style>
  body {
    background-color: #f1f3f6;
    font-family: 'Segoe UI', sans-serif;
  }

  .table-container {
    background: #fff;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    margin-top: 40px;
  }

  h3 {
    font-weight: 700;
    margin-bottom: 25px;
  }

  .btn-sm {
    min-width: 75px;
  }

  .btn-group-actions {
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
  }

  .table th, .table td {
    vertical-align: middle;
  }
</style>
</head>
<body>

<div class="container">
  <div class="table-container">
    <h3 class="text-center">ðŸ“… Manage Events</h3>
    
    <div class="container mt-3">


    <!-- Add Event Button -->
    <div class="mb-3 text-end">
      <a href="{{ url_for('add_event') }}" class="btn btn-success">
        <i class="bi bi-plus-circle"></i> Add New Event
      </a>
    </div>

    <!-- Events Table -->
    <div class="table-responsive">
      <table class="table table-bordered table-striped align-middle">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Date</th>
            <th>Venue</th>
            <th>Category</th>
            <th>Description</th>
            <th>Fee (â‚¹)</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for event in events %}
          <tr>
            <td>{{ event.id }}</td>
            <td>{{ event.name }}</td>
            <td>{{ event.date }}</td>
            <td>{{ event.venue }}</td>
            <td>{{ event.category }}</td>
            <td>{{ event.description }}</td>
            <td>{{ event.fee }}</td>
            <td class="btn-group-actions">
              <a href="{{ url_for('edit_event', id=event.id) }}" class="btn btn-sm btn-primary">
                <i class="bi bi-pencil-square"></i> Edit
              </a>
              <a href="{{ url_for('delete_event', id=event.id) }}" class="btn btn-sm btn-danger"
                 onclick="return confirm('Are you sure you want to delete this event?');">
                <i class="bi bi-trash"></i> Delete
              </a>
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="8" class="text-center text-muted">No events available.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- Back to Dashboard -->
    <div class="text-center mt-4">
          <a href="{{ url_for('admin_dashboard') }}" class="btn btn-outline-secondary btn-back">
      <i class="bi bi-arrow-left"></i> Back
    </a>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</div>
</body>
</html>
